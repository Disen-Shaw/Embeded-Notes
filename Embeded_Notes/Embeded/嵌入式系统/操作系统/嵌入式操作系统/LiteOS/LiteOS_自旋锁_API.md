# LiteOS 自旋锁 API
## 自旋锁初始化
| 接口名         | 描述             |
| -------------- | ---------------- |
| LOS_SpinInit   | 动态初始化自旋锁 |
| SPIN_LOCK_INIT | 静态初始化自旋锁 |

## 自旋锁申请和是释放
| 接口名          | 描述                                                                   |
| --------------- | ---------------------------------------------------------------------- |
| LOS_SpinLock    | 申请指定的自旋锁，如果无法获取锁，会一直循环等待                       |
| LOS_SpinTrylock | 尝试申请指定的自旋锁，如果无法获取锁，直接返回失败，而不会一直循环等待 |
| LOS_SpinUnlock  | 释放指定的自旋锁                                                       |

## 自旋锁申请和释放(同时官中断保护)
| 接口名                | 描述                               |
| --------------------- | ---------------------------------- |
| LOS_SpinLockSave      | 关中断后，再申请指定的自旋锁       |
| LOS_SpinUnlockRestore | 先释放指定的自旋锁，再恢复中断状态 |

## 获取自旋锁持有状态
**LOS_SpinHeld**  
检查自旋锁是否已经被持有

## 自旋锁内核参数
| 配置项                     | 含义         | 取值范围   | 默认值 | 依赖         |
| -------------------------- | ------------ | ---------- |:------:| ------------ |
| LOSCFG_KERNEL_SMP          | SMP控制开关  | YES/NO     |  YES   | 硬件支持多核 |
| LOSCFG_KERNEL_SMP_CORE_NUM | 多核core数量 | 与架构相关 |   2    | 无           |

