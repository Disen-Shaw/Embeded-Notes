# LiteOS 中断管理 错误码
| 定义                                  | 实际数值   | 描述                                                                                                                                                                                                                                                                                            |                 解决方案                  |
| ------------------------------------- | ---------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |:-----------------------------------------:|
| OS_ERRNO_HWI_NUM_INVALID              | 0x02000900 | 创建或删除中断时，传入了无效中断号                                                                                                                                                                                                                                                              |        检查中断号，给定有效中断号         |
| OS_ERRNO_HWI_PROC_FUNC_NULL           | 0x02000901 | 创建中断时，传入的中断处理程序指针为空                                                                                                                                                                                                                                                          |         传入非空中断处理程序指针          |
| OS_ERRNO_HWI_CB_UNAVAILABLE           | 0x02000902 | 无可用中断资源                                                                                                                                                                                                                                                                                  |             暂不使用该错误码              |
| OS_ERRNO_HWI_NO_MEMORY                | 0x02000903 | 创建中断时，出现内存不足的情况                                                                                                                                                                                                                                                                  |                     1                     |
| OS_ERRNO_HWI_ALREADY_CREATED          | 0x02000904 | 创建中断时，发现要注册的中断号已经创建                                                                                                                                                                                                                                                          |                     2                     |
| OS_ERRNO_HWI_PRIO_INVALID             | 0x02000905 | 创建中断时，传入的中断优先级无效                                                                                                                                                                                                                                                                | 传入有效中断优先级,优先级有效范围依赖硬件 |
| OS_ERRNO_HWI_MODE_INVALID             | 0x02000906 | 中断模式无效                                                                                                                                                                                                                                                                                    |          传入有效中断模式\[0,1\]          |
| OS_ERRNO_HWI_FASTMODE_ALREADY_CREATED | 0x02000907 | 创建硬中断时，要注册的中断号，已经创建为快速中断                                                                                                                                                                                                                                                |             暂不使用该错误码              |
| OS_ERRNO_HWI_INTERR                   | 0x02000908 | 接口在中断中调用                                                                                                                                                                                                                                                                                |             暂不使用该错误码              |
| OS_ERRNO_HWI_SHARED_ERROR             | 0x02000909 | 创建中断时，hwiMode指定创建共享中断</br>但是未设置设备ID；</br>或hwiMode指定创建非共享中断</br>但是该中断号之前已创建为共享中断</br>或配置LOSCFG_NO_SHARED_IRQ为yes</br>但是创建中断时，入参指定创建共享中断</br></br>删除中断时：设备号创建时指定为共享中断</br>删除时未设置设备ID，删除错误。 |                     3                     |
| OS_ERRNO_HWI_ARG_INVALID              | 0x0200090a | 注册中断入参有误                                                                                                                                                                                                                                                                                |             暂不使用该错误码              |
| OS_ERRNO_HWI_HWINUM_UNCREATE          | 0x0200090b | 中断共享情况下，删除中断时，中断号对应的链表中，无法匹配到相应的设备ID                                                                                                                                                                                                                          | 对于共享中断号的情况</br>检查传入中断号的链表中是否已经有匹配函数参数的设备ID                                          |

1. 增大动态内存空间，有两种方式可以实现
	+ 设置更大的系统动态内存池，配置项为OS_SYS_MEM_SIZE
	+ 释放一部分动态内存
2. 对于非共享中断号的情况，检查传入的中断号是否已经被创建；
	+ 对于共享中断号的情况，检查传入中断号的链表中是否已经有匹配函数参数的设备ID
3. 检查入参
	+ 创建时参数hwiMode与irqParam保持一致，hwiMode为0，表示不共享，此时irqParam应为NULL；
	+ 当hwiMode为IRQF_SHARD时表示共享，irqParam需设置设备ID；
	+ LOSCFG_NO_SHARED_IRQ为YES时，即非共享中断模式下，只能创建非共享中断
	+ 删除中断时irqParam要与创建中断时的参数一样



</br>
不及时更新，详细参考[LiteOS Kernel Developer](https://gitee.com/LiteOS/LiteOS/blob/master/doc/LiteOS_Kernel_Developer_Guide.md)