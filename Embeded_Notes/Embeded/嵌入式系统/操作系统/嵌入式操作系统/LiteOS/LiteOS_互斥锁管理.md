# LiteOS 互斥锁
## 基本概念
互斥锁又称互斥型信号量，是一种特殊的二值性信号量，用于实现对临界资源的独占式处理  
另外，互斥锁可以解决**信号量存在的优先级翻转问题**

任意时刻互斥锁只有两种状态，开锁或闭锁。当任务持有时，这个任务获得该互斥锁的所有权，互斥锁处于闭锁状态。当该任务释放锁后，任务失去该互斥锁的所有权，互斥锁处于开锁状态。当一个任务持有互斥锁时，其他任务不能再对该互斥锁进行开锁或持有

Huawei LiteOS提供的互斥锁具有如下特点：

- 通过优先级继承算法，解决优先级翻转问题
- 多任务阻塞等待同一个锁的场景，支持基于任务优先级等待和FIFO两种模式

### 运作机制
多任务环境下会存在多个任务访问同一公共资源的场景，而有些公共资源是非共享的临界资源，只能被独占使用

用互斥锁处理临界资源的同步访问时，如果有任务访问该资源，则互斥锁为加锁状态。此时其他任务如果想访问这个临界资源则会被阻塞，直到互斥锁被持有该锁的任务释放后，其他任务才能重新访问该公共资源，此时互斥锁再次上锁，如此确保同一时刻只有一个任务正在访问这个临界资源，保证了临界资源操作的完整性

![[Pasted image 20210907145316.png]]

[[LiteOS_互斥锁管理_API]]