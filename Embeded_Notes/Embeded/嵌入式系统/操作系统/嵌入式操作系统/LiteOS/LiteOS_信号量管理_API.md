# LiteOS 信号量 API
## 使用场景
在多任务系统中，信号量是一种非常灵活的同步方式，可以运用在多种场合中，实现锁、同步、资源计数等功能，也能方便的用于任务与任务，中断与任务的同步中。信号量常用于协助一组相互竞争的任务访问共享资源

## 信号量创建和删除
| 接口名              | 描述                            |
| ------------------- | ------------------------------- |
| LOS_SemCreate       | 创建信号量，返回信号量ID        |
| LOS_BinarySemCreate | 创建二值信号量，其计数值最大为1 |
| LOS_SemDelete       | 删除指定的信号量                |

## 信号量申请和释放
| 接口名      | 描述                             |
| ----------- | -------------------------------- |
| LOS_SemPend | 申请指定的信号量，并设置超时时间 |
| LOS_SemPost | 释放指定的信号量                 |

## 信号量的三种申请模式
+ 无阻塞模式：
	+ 务申请信号量时，入参timeout等于0
	+ 若当前信号量计数值不为0，则申请成功，否则立即返回申请失败
+ 阻塞模式：
	+ 即任务申请信号量时，入参timeout等于0xFFFFFFFF
	+ 若当前信号量计数值不为0，则申请成功
	+ 否则该任务进入阻塞态，系统切换到就绪任务中优先级最高者继续执行
	+ 任务进入阻塞态后，直到有其他任务释放该信号量，阻塞任务才会重新得以执行
+ 定时阻塞模式：
	+ 即任务申请信号量时，0<timeout<0xFFFFFFFF
	+ 若当前信号量计数值不为0，则申请成功
	+ 否则，该任务进入阻塞态，系统切换到就绪任务中优先级最高者继续执行
	+ 任务进入阻塞态后，超时前如果有其他任务释放该信号量，则该任务可成功获取信号量继续执行，若超时前未获取到信号量，接口将返回超时错误码

## 内核配置参数
| 配置项                    | 含义                   | 取值范围     | 默认值 | 依赖 |
| ------------------------- | ---------------------- | ------------ | ------ | ---- |
| LOSCFG_BASE_IPC_SEM       | 信号量模块裁剪开关     | YES/NO       | YES    | 无   |
| LOSCFG_BASE_IPC_SEM_LIMIT | 系统支持的信号量最大数 | \[0, 65535\] | 1024   | 无   |

如果上述操作出现错误，应参考[[LiteOS_信号量管理_错误码]]
