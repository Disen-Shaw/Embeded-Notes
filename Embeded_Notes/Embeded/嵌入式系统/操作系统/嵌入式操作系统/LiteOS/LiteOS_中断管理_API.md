# LiteOS 中断管理 API
当有中断请求产生时，CPU暂停当前的任务，转而去响应外设请求。根据需要，用户通过中断申请，注册中断处理程序，可以指定CPU响应中断请求时所执行的具体操作

## 中断创建和删除
| 接口名        | 描述                                                                                                                     |
| ------------- | ------------------------------------------------------------------------------------------------------------------------ |
| LOS_HwiCreate | 中断创建</br>注册中断号</br>中断触发模式</br>中断优先级</br>中断处理程序</br>中断被触发时，handleIrq会调用该中断处理程序 |
| LOS_HwiDelete | 删除中断                                                                                                                         |

## 打开和关闭所有中断
| 接口名         | 描述                                        |
| -------------- | ------------------------------------------- |
| LOS_IntUnLock  | 打开当前处理器所有中断响应                  |
| LOS_IntLock    | 关闭当前处理器所有中断响应                  |
| LOS_IntRestore | 恢复到使用LOS_IntLock关闭所有中断之前的状态 |

## 使能和屏蔽指定中断
| 接口名         | 描述                                          |
| -------------- | --------------------------------------------- |
| LOS_HwiDisable | 中断屏蔽（通过设置寄存器，禁止CPU响应该中断） |
| LOS_HwiEnable  | 中断使能（通过设置寄存器，允许CPU响应该中断） |

## 设置中断优先级
**LOS_HwiSetPriority**  
设置中断优先级

## 触发中断
**LOS_HwiTrigger**  
触发中，通过写中断控制器的相关寄存器模拟外部中断

## 清除中断寄存器状态
**LOS_HwiClear**  
清除中断号对应的中断寄存器的状态位，此接口依赖中断控制器版本，非必需  

## 核间中断
**LOS_HwiSendIpi**  
向指定核发送核间中断，此接口依赖中断控制器版本和cpu架构，**该函数仅在SMP模式下支持**

## 设置中断亲和性
**LOS_HwiSetAffinity**  
设置中断的亲和性，即设置中断在固定核响应，**该函数仅在SMP模式下支持**

## 内核中断配置参数
| 配置项                           | 含义                   | 取值范围         | 默认值           | 依赖                             |
| -------------------------------- | ---------------------- | ---------------- | ---------------- | -------------------------------- |
| LOSCFG_ARCH_INTERRUPT_PREEMPTION | 使能中断嵌套           | YES/NO           | NO               | ARMv8、RISC-V                    |
| LOSCFG_IRQ_USE_STANDALONE_STACK  | 使用独立中断栈         | YES/NO           | YES              | 依赖核，某些平台可能没有此配置项 |
| LOSCFG_NO_SHARED_IRQ             | 使能中断不共享         | YES/NO           | NO               | 无                               |
| LOSCFG_PLATFORM_HWI_LIMIT        | 最大中断使用数         | 根据芯片手册适配 | 根据芯片手册适配 | 无                               |
| LOSCFG_HWI_PRIO_LIMIT            | 可设置的中断优先级个数 | 根据芯片手册适配 | 根据芯片手册适配 | 无                               |


