---
date updated: '2021-10-03T09:14:38+08:00'

---

# 计算机体系结构及内存分层体系

## 计算机体系结构/内存分层体系

### 计算机体系结构

![Pasted image 20210605131754](../../../../pictures/Pasted%20image%2020210605131754.png)
主要包含三大快内容

- CPU：完成程序的执行
- 内存：存放程序所执行的代码和数据
- 外设：有各自的功能，配合计算机操作系统来发挥更大的作用

### 内存的层次结构

金字塔的内存结构
通过操作系统管理内存来高效利用CPU
![Pasted image 20210605132028](../../../../pictures/Pasted%20image%2020210605132028.png)
CPU要访问的指令和数据通过几级缓存
两级缓存的Cache容量小，但是速度非常快
物理主存的容量大，但是速度慢
在这几级之间形成一个缓冲来更加高效的利用CPU

有的时候程序的体积会很大，不可以一直存放在物理主存中，并且一旦掉电，程序的所有速数据都将会流失，这个时候就要将其存在硬盘中

### 操作系统对物理内存的作用

![Pasted image 20210605132829](../../../../pictures/Pasted%20image%2020210605132829.png)

- 抽象：逻辑地址空间
- 保护：独立地址空间，有需要时隔离不同进程的地址空间
- 共享：访问相同的内存
- 虚拟化：更多的地址空间

P1 P2 P3 P4是四个进程
P1正在执行，P4处于等待状态，可能会有一段时间才会发生
操作系统为了节省内存空间，可能把P4的内容放在硬盘中，条件准备好时再将它取出

## 在操作系统中管理内存的不同方法

- 程序重定位
- 分段
- 分页
- 虚拟内存
- 按需分配虚拟内存

### 高度依赖硬件

将这些实现，需要高度以来与实际的硬件

- 必须知道内存的架构
- MMU(内存管理单元)：硬件组件负责处理CPU内存的访问请求
