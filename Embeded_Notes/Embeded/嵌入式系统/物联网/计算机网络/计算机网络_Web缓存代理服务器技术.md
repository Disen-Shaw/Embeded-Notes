---
date updated: '2021-10-03T09:20:52+08:00'

---

# Web缓存/代理服务器技术

## 功能

在不访问服务器的前提下满足客户端的HTTP请求

### 这项技术的意义

相比于Cookie，这是一项性能优化的技术

- 缩短客户请求的响应时间
- 减小机构、组织的流量开销
- 大范围内(Internet)实现有效的内容分发

## Web缓存/代理服务器技术

### Web缓存/代理服务器

- 用户设定浏览器通过缓存进行Web访问
- 浏览器向缓存、代理服务器发送所有的HTTP请求

如果所请求的对象在缓存中，缓存返回对象
否则，缓存服务器向原始服务器发送HTTP请求，获取对象，然后返回客户端并保存该对象

类似于CPU的cache思想

缓存既充当客户端，又充当服务器
代理一般有ISP(Internet服务提供商)假设

### 示例

![Pasted image 20210531015514](../../../../pictures/Pasted%20image%2020210531015514.png)

![Pasted image 20210531015634](../../../../pictures/Pasted%20image%2020210531015634.png)

问题是成本太高

机构内增加缓存服务器，一般来说命中率是0.2到0.7之间

![Pasted image 20210531015854](../../../../pictures/Pasted%20image%2020210531015854.png)

## 条件性GET方法

![Pasted image 20210531020649](../../../../pictures/Pasted%20image%2020210531020649.png)
确保代理服务器中的内容与远端服务器内容一致
目标：
如果缓存有最新版本，则不需要发送请求对象

缓存：

- 在HTTP请求中声明所持有版本日期
- if-modified-since:<date>

服务器：

- 如果缓存的版本是最新的，则响应消息中不包含对象
- HTTP/1.0 304 Not Modified
