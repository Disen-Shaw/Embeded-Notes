# Shell 运算符

## 简介

shell 和其他变成语言一样，包括

- 算数运算符
- 关系运算符
- 布尔运算符
- 字符串运算符
- 文件测试运算符

原生bash不支持简单的数学运算，但是可以通过其他命令来实现，例如 `awk` 和 `expr` 最常用

```shell
#!/bin/sh
var=`expr 2 + 2`
echo ${expr}
```

输出的结果为4

### 注意

- 表达式和运算符之间要有空格，例如 `2 + 2` 写成 `2+2` 是不对的
- 完整的表达式要被 \`\` 包含，或者使用 $(表达式)

## 运算符
### 算术运算符
| 元算符 | 说明     | 例子                      |
| ------ | -------- | ------------------------- |
| +      | 加法     | $(expr $a + $b) 结果为30  |
| -      | 减法     | $(expr $a - $b) 结果为-10 |
| ×      | 乘法     | $(expr $a \× $b) 结果为200 |
| /      | 除法     | $(expr $b / $a) 结果为2   |
| %      | 取余     | $(expr $b % $a) 结果为0   |
| =      | 赋值     | a=${b} 将b的值赋给a       |
| ==     | 相等比较 | [ $a == $b ] 返回 false     |
| !=     | 不等比较 | [ $a != $b ] 返回 true      | 

- **表达式要放在放括号之间，并且要有空格**
- 使用乘号之前必须加(`\`) 才能够正常使用

### 关系运算符

关系运算符只**支持数字，不支持字符串**，除非字符串的值是数字

| 运算符 | 说明                                                | 举例                     |
| ------ | --------------------------------------------------- | ------------------------ |
| -eq    | 检测两个数是否相等，相等返回 true                   | [ $a -eq $b ] 返回false  |
| -nq    | 检测两个数是否不相等，不相等返回 true               | [ $a -nq $b ] 返回true   |
| -gt    | 检测左边的数是否大于右边的，如果是，则返回 true     | [ $a -gt $b ] 返回 false |
| -lt    | 检测左边的数是否小于右边的，如果是，则返回 true     | [ $a -lt $b ] 返回 true  |
| -ge    | 检测左边的数是否大于等于右边的，如果是，则返回 true | [ $a -ge $b ] 返回 false |
| -le    | 检测左边的数是否小于等于右边的，如果是，则返回 true | [ $a -le $b ] 返回 true  |

### 布尔运算符
| 运算符 | 说明                                              | 举例                                   |
| ------ | ------------------------------------------------- | -------------------------------------- |
| !      | 非运算，表达式为 true 则返回 false，否则返回 true | [ ! false ] 返回 true                  |
| -o     | 或运算，有一个表达式为 true 则返回 true           | [ $a -lt 20 -o $b -gt 100 ] 返回 true  |
| -a     | 与运算，两个表达式都为 true 才返回 true           | [ $a -lt 20 -a $b -gt 100 ] 返回 false | 

### 逻辑运算符

| 运算符 | 说明   | 举例                                      |
| ------ | ------ | ----------------------------------------- |
| &&     | 逻辑与 | \[\[ $a -lt 100 && $b -gt 100 \]\] 返回 false |
| \|\|   | 逻辑或 | \[\[ $a -lt 100 \|\| $b -gt 100 \]\] 返回 true                                         |


### 字符串运算符
