## 指针

## 指针的基本概念

可以通过指针间接访问内存

+ 内存的编号是从0开始记录的，一般用十六进制数字表示指针的值
+ 可以利用指针变量保存地址

## 指针的使用方式

### 指针的定义

```cpp
type a;
type *p = &a;
// 此时 p 为 变量a 的指针
```

### 指针的使用

可以通过 **解引用** 的方式来找到指针指向的内存\
指针前加 `*` 代表解引用

## 指针所占用的内存空间

根据 **寻址范围** 来定义的指针变量的大小

+ 32位操作系统下，指针占用4个字节的内存空间
+ 64位操作系统下，指针占用8个字节的内存空间

## 空指针和野指针

### 空指针

指针变量指向内存 **编号为0的地址空间**，一般定义为 **NULL**\
主要用于 **初始化** 指针变量，并且空指针指向的内存地址是 **不可访问的**，更**不可以更改**

> 0~255之间的内存是 **系统占用** 的，不可以直接访问

### 野指针

指针指向非法的内存空间\
在定义指针变量但是未初始化时，该指针变量也是野指针

## const 修饰的指针

const修饰指针有三种情况：

+ const修饰指针——常量指针
	+ `const int *p = &a;`
	+ **指针指向的地址可以更改，但是指针指向地址的值不可以更改**
	+ const 修饰 `int *`
+ const修饰常量——指针常量
	+ `int *const p = &a;`
	+ **指针指向的地址不可以更改，指针指向的地址的值可以更改**
	+ const 修饰 指针变量
+ const及修饰指针，有修饰常量
	+ **指针指向的地址** 和 **指针指向的地址对应的值** 都不可以改


主要看 `*` 的位置和 `const` 的相对位置


## 指针和 [数组](C++_数组.md)

可以利用指针访问数组中的元素\
常用的方式是利用数组访问数组中的元素，但可以使用指针访问数组中的元素(速度稍微快一些)

根据 **汇编代码** 表示\
用 **数组下标** 的形式访问字符串时，**总要对数组的首地址做加减操作才能定位到想要的值**\
**而指针的实现则一开始就copy了一个首地址，不需要再用加减来定位**


```cpp
int a[3]={1,2,3};
int *p = a;
for(int i=0 ; i<3 ; i++){
	cout<<*(p+i)<<endl;
}
```


**指针值的加减表示加减指针对应的变量类型所占用的内存空间**\
例如如果指针对应的是整形变量，那么指针加加对应指针的值加4

## 指针和函数

函数传递参数的形式可以是 **值传递**、**地址传递**、**引用传递(指针)**\
**地址传递可以在函数中修改传入的实参**

