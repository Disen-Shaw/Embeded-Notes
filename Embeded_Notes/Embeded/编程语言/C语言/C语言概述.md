## 什么是C语言

C语言是面相过程的语言。
汇编语言的上层语言，开发过程将C语言转化为汇编语言，再转化为机器语言。
C语言应该属于中级语言。

## C语言优点

+ 代码量小
+ 执行速度快
+ 功能强大
+ 编程自由
+ 简洁

## C语言缺点

+ 写代码实现周期长
+ 代码可移植性较差 posix不一样
+ 对平台库的以来较多
+ 过于自由，经验不足容易出错

## C语言关键字

>  32个关键字

| 关键字       | 功能                                               |
| ------------ | -------------------------------------------------- |
| auto         | 声明自动变量                                       |
| short        | 声明短整型变量或函数                               |
| int          | 声明整型变量或函数                                 |
| long         | 声明长整型变量或函数                               |
| float        | 声明浮点型变量或函数                               |
| double       | 声明双精度变量或函数                               |
| char         | 声明字符型变量或函数                               |
| struct       | 声明结构体变量或函数                               |
| union        | 声明共用数据类型                                   |
| enum         | 声明枚举类型                                       |
| typedef      | 用以给数据类型取别名                               |
| const        | 声明只读变量                                       |
| unsigned     | 声明无符号类型变量或函数                           |
| signed       | 声明有符号类型变量或函数                           |
| extern       | 声明变量是在其他文件正声明                         |
| **register** | **声明寄存器变量**                                 |
| static       | 声明静态变量                                       |
| **volatile** | **说明变量在程序执行中可被隐含地改变**             |
| void         | 声明函数无返回值或无参数，声明无类型指针           |
| if           | 条件语句                                           |
| else         | 条件语句否定分支（与 if 连用）                     |
| switch       | 用于开关语句                                       |
| case         | 开关语句分支                                       |
| for          | 一种循环语句                                       |
| do           | 循环语句的循环体                                   |
| while        | 循环语句的循环条件                                 |
| **goto**     | **无条件跳转语句**                                 |
| continue     | 结束当前循环，开始下一轮循环                       |
| break        | 跳出当前循环                                       |
| default      | 开关语句中的“其他”分支                             |
| sizeof       | 计算数据类型长度                                   |
| return       | 子程序返回语句（可以带参数，也可不带参数）循环条件 |
## 变量字节大小

字符型变量：

| 类型          | 存储大小/Byte | 取值范围          | 引用方式 |
| ------------- | ------------- | ----------------- | -------- |
| char          | 1             | -128~127或者0~255 | %c       |
| unsigned char | 1             | 0~255             | %c       |
| signed char   | 1             | -128~127          | %c       |

整型变量：

| 类型           | 存储大小/byte | 取值范围                               | 引用方式 |
| -------------- | ------------- | -------------------------------------- |----- |
| int            | 2或者4        | -32768~32767或者-2147483648~2147483648 | %d |
| unsigned int   | 2或4          | 0~65535或者0~4294967259                | %u |
| short          | 2             | -32768~32767                           | %hd |
| unsigned short | 2             | 0~65535                                | %hu |
| long           | 4             | -2147483648~2147483648                 | %ld |
| unsigned long  | 4             | 0~4294967259                           | %lu |

浮点型变量：

| 类型 | 存储大小/byte | 取值范围 | 精度 | 引用方式 |
| ---- | ------------- | -------- |  -----   | -----  |
| float | 4 | 1.2e-38~3.4e+38 | 6位小数 | %f |
| double | 8 | 2.3e-308~1.7e+308 | 15位小数 | %lf |
| long double | 16 | 3.4e-4932~1.1e+4932 | 19位小数 | %Lf |

## system函数

头文件：

```c
#include<stdlib.h>
```

使用功能：

在已经运行的程序中执行另一个外部程序，命令。

返回值：

成功：0
失败：任意数字

> C语言编译过程

1. 预处理

   宏定义展开、头文件展开、条件编译等，同时将代码中的注释删除，在这里不检查语法

2. 编译

   检查语法，将预处理后的文件编译生成汇编文件

3. 汇编

   S讲汇编文件生成目标文件(二进制文件)

4. 链接

   SC语言写的程序需要依赖各种库的依赖，变异之后还要把库链接到最终的可执行文件中。

**不同平台中，链接的库不同**

```shell
gcc -E xxx.c -o xxx.i				预处理
gcc -S xxx.i -o xxx.s				编译 检查语法 将C语言转成汇编
gcc -c xxx.s -o xxx.o				汇编 生成二进制代码
gcc xxx.o -o xxx

```

## 常见异常

1. 编辑时异常
2. 编译时异常
3. 运行时异常

## 程序执行过程

硬盘中存放程序：

| 硬盘(外部存储设备) |
| :----------------: |
|      hello.c       |

使用时调到内存从硬盘中加载程序，并将处理结果保存在硬盘中。

| 代码区     |
| ---------- |
| **数据区** |
| **栈区**   |
| **堆区**   |

中央处理器(CPU)，与内存进行数据交互

| **运算器** |
| ---------- |
| **控制器** |
| **寄存器** |

### 寄存器的名称

![[Pasted image 20210308185021.png]]

>执行过程

![[Pasted image 20210308185050.png]]
*cpu与内存之间还有一定的缓存(Cache)** 

##  汇编语言和程序调试

```c
; 可以在C语言中添加一下代码
int a;
int b;
; Windows系统中
__asm
{
	mov a,10
    mov b,20
    mov eax,a
    add eax,b
    mov c,eax
}
; Linux系统中
__asm(
	"mov a,10",
	"mov b,20",
    "mov eax,a",
    "add eax,b",
    "mov c,eax"
);
mov 移动
add 累加
push 压栈
pop 出栈
call 调用
```

## 集成开发环境

相关快捷键：

| 快捷键      | 功能           |
| ----------- | -------------- |
| ctrl+k再按f | 代码格式化     |
| alt+上箭头  | 调整代码位置   |
| ctrl+c      | 复制当前行代码 |