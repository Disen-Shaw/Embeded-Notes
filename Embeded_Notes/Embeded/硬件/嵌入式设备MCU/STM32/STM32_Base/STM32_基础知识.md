# STM32基础知识

## 仿真器

遵循ARM公司CMSIS-DAP标准

## ISP

ISP(In-System-Programming)在系统可编程，电路板上的空白器件可以编程，写入最终用户代码，而不需要从电路板上去下器件，已经编程的期间可以也通过ISP方式擦出或者再编程

### BOOTLOADER

通过芯片内部的自举程序(Bootloader，由芯片厂家烧写好，不得更改)选定一种外设，对芯片内部的FLASH进行编程，最常用的ISP通过串口下载，成本低，但是只能用于下在程序，不能用于硬件仿真。

### 普通ISP和一键ISP

#### 普通ISP

下在程序时需要手动配置BOOT的启动方式

#### 一键ISP

通过独特的硬件电路和上位机配合来使用，达到一键下载的功能

#### BOOT的启动方式

| BOOT0 | BOOT1 | 启动方式      |
| ----- | ----- | ------------- |
| 0     | x     | 内部flash启动 |
| 1     | 0     | 系统存储器    |
| 1     | 1     | 内部SRAM      |

### 原理图引脚分配

| 引脚类型     | 引脚说明                                                     |
| ------------ | ------------------------------------------------------------ |
| **电源**     | **(VBAT)、(VDD、VSS)、(VDDA、VSSA)(VREF+ VREF-)等**          |
| **晶振引脚** | **分为主晶振IO、RTC晶振IO**                                  |
| **下载IO**   | **用于JTAG下载的IO：JTMS、JTCK、JTDI、JTDO、NJRST**          |
| **BOOT IO**  | **设置BOOT0和BOOT1,确定启动方式**                            |
| **复位IO**   | **NRST，用于外部复位**                                       |
| **GPIO**     | **专用器件连接到专用的总线，例如I2C、SPI、SDIO、FSMC、DCMI等** |
|              | **普通的元器件连接到GPIO，如蜂鸣器等**                       |
|              | **如有多余的GPIO，可以选择不引出**                           |

### STM32引脚方向

小圆点开始逆时针从1到最后

没有点的看丝印正方的左边从1开始到最后

## STM32型号选择

### 命名规则

> 以STM32F103VET6为例

1. 产品系列

    STM32代表ST品牌Cortex-Mx系列内核（ARM）的32位MCU

2. 产品类型

   F：通用快闪(Flash Memory)

   L：低功耗

3. 数字表示型号

![Pasted image 20210309230825](../../../../../pictures/Pasted%20image%2020210309230825.png)

### 选择方式

1. 内核

   内核等级越高，运算速度越快，功率越大，越费电

2. 芯片引脚数

   引脚数越多，功能越多，成本越高

3. 选择多大RAM和多大Flash的芯片

   越大成本越高

4. 是否容易采购

