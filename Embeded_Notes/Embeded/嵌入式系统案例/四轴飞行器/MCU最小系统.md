# 四轴飞行器的原理图
## 结构框图
![[Pasted image 20210314013006.png]]
### STM32F411最小系统
参考[[STM32_最小系统]]
#### 单片机电路
![[Pasted image 20210314013353.png]]
主芯片周围电容作用：滤波
0.1uF电容在设计PCB板时需要尽量靠近需要滤波的引脚
`芯片或者数字电路开关时对电源影响大，引起电源波动`
`需要电容来退耦，滤除高频噪声`
4.7uF电容按照参考手册来画的
`保证内部的主调压器电源稳定`F
BOOT0和BOOT1：

|BOOT0|BOOT1|工作模式|
|-----|-----|-----|
|0|x  |从用户闪存启动，正常的工作模式|
|1|0  |系统存储器启动，启动程序由厂家设置|
|1|1  |从内置SRAM启动，可以用于调试|

`一般不使用SRAM启动，掉电数据丢失`
通常都是0，只是在ISP下载的情况下，BOOT0=1，BOOT1=0
下载完成后吧BOOT0的线调回0,即00
**BOOT0和BOOT1接地要加10K电阻，否则会烧坏MCU**

#### 下载器电路(非固定)
![[Pasted image 20210314015129.png]]
E-Link的下载电路
#### 晶振电路(非固定)
晶振电路也非固定，可自行设计
#### 复位电路(非固定)
也可以自己设计

### 四轴飞行器供电电路
#### USB接口、锂电池充电电路
![[Pasted image 20210314015932.png]]
#### 升压电路
![[Pasted image 20210314020045.png]]
锂电池输出电压不够5V，需要升压才能正常运行
SX1308：F用于升压
BT54C：防止电压反向
5V用于给整个系统供电
#### 降压稳压
![[Pasted image 20210314020443.png]]
ESP8266功耗比较大，为防止影响整体电路，对齐进行单独供电
有两组这个电路，一组用于给主芯片供电，另一组给ESP8266供电
`还有设计AD电路，检测锂电池电压`

### NRF2401外围电路
![[Pasted image 20210314021150.png]]
2.4G通信电路
### 各种传感器电路
#### MPU9250
![[Pasted image 20210314021323.png]]
看用户手册来设计电路
#### 气压计电路
![[Pasted image 20210314021447.png]]
两个气压计电路
也是看用户手册来设计电路

### 四路电机驱动电路
![[Pasted image 20210314021641.png]]
PWM引脚控制PWM波，控制三极管的导通与关闭
### LED驱动电路
随便设计设计就行
### ESP8266驱动电路 
![[Pasted image 20210314022008.png]]
电路分为两部分
![[Pasted image 20210314022051.png]]
左侧用于给openMV通信
右侧用于给单片机通信
### openMV通信电路
![[Pasted image 20210314022404.png]]
![[Pasted image 20210314022443.png]]